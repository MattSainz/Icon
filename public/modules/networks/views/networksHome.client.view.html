<section class="container" ng-controller="NetworksController">

    <md-card id="browseCard">
        <div class="browse">
        <md-progress-linear class="md-warn" md-mode="determinate" value="{{loadingProgress}}"></md-progress-linear>
        <md-tabs class="graphProperties" md-selected="selectedIndex" md-border-bottom md-autoselect>
            <md-tab ng-repeat="attr in attrArr" label="{{attr.attrCat}}">

            <div ng-show="loading">
                <div layout="row" layout-sm="column" layout-align="space-around">
                    <md-progress-circular md-mode="indeterminate"></md-progress-circular>
                </div>
            </div>


            <div layout="row" class="attributeContainer" layout-wrap>
                <div ng-repeat="a in attr.attrs">
                   <div class="attributeButton" flex="none">
                       <md-checkbox ng-disabled="loadingNetworks" ng-model="a.state" >{{a.value}}</md-checkbox>
                   </div>
                </div>

            </div>
            </md-tab>

            <!--       Size Tab       -->
            <md-tab label="Size">
                <div id="size_tab">
                    <label class="graphLabels">Node and Edge Count Distribution</label>
                    <canvas id="line"
                            class="chart chart-line"
                            chart-data="data"
                            chart-labels="labels"
                            chart-options="options"
                            width="380px"
                            height="60px">
                    </canvas>
                    <label layout="row" layout-align="center start" class="graphLabels">Nodes in Gray Edges in Blue</label>
                    <div layout="row" layout-align="space-around start">
                    <md-input-container ng-repeat="s in sizeInfo">
                        <label>{{s.attrCat}}</label>
                        <md-select ng-disabled="loadingNetworks" ng-model="s.attrs.state">
                            <md-option ng-repeat="label in s.attrs.labels" value="{{label}}">
                                {{label}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                    </div>
                </div>
            </md-tab>

        </md-tabs>
        <md-divider></md-divider>
        <div id="searchBox" layout="row">
            <md-input-container flex="grow">
                <label>Search</label>
                <input enter-key="searchButton()" ng-disabled="loadingNetworks" ng-model="searchField">
            </md-input-container>

            <md-button id="searchButton" ng-click="searchButton()" aria-label="Comment">
                <md-icon md-font-icon="material-icons"> search </md-icon>
            </md-button>
        </div>
        </div>

        <md-divider style="margin-top:25px" ng-show="showMore"></md-divider>
        <div ng-show="showMore" style="margin-right: 14px; margin-left: 14px; margin-top:14px;" layout="column" >
            <label class="networkCount">Networks {{numEntries}}</label>
            <label class="graphLabels">Domain Counts</label>
            <canvas id="bar"
            class="chart chart-bar"
            chart-data="domains.data"
            chart-labels="domains.labels"
            chart-options="options"
            width="380px"
            height="80px">
            </canvas>

            <label class="graphLabels">Property Counts</label>
            <canvas id="barProps"
                class="chart chart-bar"
                chart-data="properties.data"
                chart-labels="properties.labels"
                chart-options="options"
                width="380px"
                height="80px">
            </canvas>

            <label class="graphLabels">Node and Edge Count Distribution</label>
            <canvas id="lineInfo"
                    class="chart chart-line"
                    chart-data="data"
                    chart-labels="labels"
                    chart-options="options"
                    width="380px"
                    height="60px">
            </canvas>
        </div>
        <md-button ng-click="showMore = !showMore" id="showMore" class="md-fab md-mini md-warn" style="left:45%;bottom: -25px" aria-label="Comment">
            <md-icon md-font-icon="material-icons">{{ (showMore) ? 'expand_less' : 'expand_more'}}</md-icon>
        </md-button>
    </md-card>


    <div class="dataList">
    <md-list>
        <div ng-repeat="network in networks | orderBy: '_source.networkDomain'">
            <div ng-switch on="network.state">
                <div ng-switch-when="list">
                    <network-list-item authentication="authentication" network="network"></network-list-item>
                </div>
                <div ng-switch-when="open">
                    <network-card network="network"></network-card>
                </div>
                <div ng-switch-when="edit">
                    <edit-card  network="network" networks="networks"></edit-card>
                </div>
            </div>
           <!-- <md-divider ></md-divider> -->
        </div>
    </md-list>
    </div>

    <md-button id="addNetwork" data-ng-hide="!authentication.user" class="md-fab md-warn" aria-label="Comment" ng-click="addNewNetworkTemplate()">
         <md-icon md-font-icon="material-icons"> add </md-icon>
    </md-button>

</section>

