<section ng-controller="HomeController">
    <md-content>

        <!-- TODO move to partial and fix edit to be per item -->
        <div ng-repeat="entry in entries | orderBy: 'dateCreated'">
            <div class="animate-switch-container">
            <div class="animate-switch" ng-if="$index == edit">
                <div new-content entry="entry" cancel-function="editCancel($index)" save-function="update($index)" delete-function="delete($index)"> </div>
            </div>
            <div class="animate-switch" ng-if="$index != edit">
                <md-card class="homeCard">
                    <md-card-content>
                        <h2 class="md-title">{{entry.title}}</h2>
                        <p>
                            {{entry.contentBody}}
                        </p>
                        <section data-ng-hide="!authentication.user" layout="row" layout-sm="column" layout-align="end center" layout-wrap>
                            <md-button data-ng-hide="!authentication.user" ng-click="editToggle($index)">Edit</md-button>
                        </section>
                    </md-card-content>
                </md-card>
            </div>
            </div>
        </div>

        <div data-ng-repeat="entry in newContent | orderBy: 'dateCreated'">
            <div new-content entry="entry" cancel-function="cancel($index)" save-function="save($index)"> </div>
        </div>

        <md-button id="addContent" data-ng-hide="!authentication.user" class="md-fab" aria-label="Comment" ng-click="getContentTemplate()">
            <md-icon md-font-icon="material-icons"> add </md-icon>
        </md-button>

    </md-content>
</section>
